{{ if .Values.dnsaddress }}
  {{ if contains "http" .Values.dnsaddress }}
You can access all components of the dbp using the same root address, but different paths as follows:

  Content: {{ .Values.dnsaddress }}/alfresco
  Share: {{ .Values.dnsaddress }}/share
  Solr: {{ .Values.dnsaddress }}/solr
  Process: {{ .Values.dnsaddress }}/activiti-app
  API Gateway: {{ .Values.dnsaddress }}/
  Keycloak: {{ .Values.dnsaddress }}/auth/
  {{ end }}
{{ else if contains "http" (index .Values "alfresco-api-gateway" "keycloakURL") }}
If you have a specific DNS address for the cluster please run the following commands to get the application paths:

  helm upgrade --reuse-values {{ .Release.Name }} --set dnsaddress="Your DNS address ex: http://myenv.com" yourChartPath

  The chart path can either be local "." on in the helm repo "alfresco/alfresco-dbp".

If you are using the default dbp setup you can access all components as follows:

  Content: {{ index .Values "alfresco-api-gateway" "keycloakURL" | trimSuffix "/" | trimSuffix "/auth"}}/alfresco
  Share: {{ index .Values "alfresco-api-gateway" "keycloakURL" | trimSuffix "/" | trimSuffix "/auth"}}/share
  Solr: {{ index .Values "alfresco-api-gateway" "keycloakURL" | trimSuffix "/" | trimSuffix "/auth"}}/solr
  Process: {{ index .Values "alfresco-api-gateway" "keycloakURL" | trimSuffix "/" | trimSuffix "/auth"}}/activiti-app
  API Gateway: {{ index .Values "alfresco-api-gateway" "keycloakURL" | trimSuffix "/" | trimSuffix "/auth"}}/
  Keycloak: {{ index .Values "alfresco-api-gateway" "keycloakURL" | trimSuffix "/" | trimSuffix "/auth"}}/auth/

{{ else if contains "http" (index .Values "alfresco-content-services" "repository" "environment" "SYNC_SERVICE_URI" ) }}

If you have a specific DNS address for the cluster please run the following commands to get the application paths:

helm upgrade --reuse-values {{ .Release.Name }} --set dnsaddress="Your DNS address ex: http://myenv.com" yourChartPath

The chart path can either be local "." on in the helm repo "alfresco/alfresco-dbp".

If you are using the default dbp setup you can access all components as follows:

  Content: {{ index .Values "alfresco-content-services" "repository" "environment" "SYNC_SERVICE_URI" | trimSuffix "/" | trimSuffix "/syncservice" }}/alfresco
  Share: {{ index .Values "alfresco-content-services" "repository" "environment" "SYNC_SERVICE_URI" | trimSuffix "/" | trimSuffix "/syncservice" }}/share
  Solr: {{ index .Values "alfresco-content-services" "repository" "environment" "SYNC_SERVICE_URI" | trimSuffix "/" | trimSuffix "/syncservice" }}/solr
  Process: {{ index .Values "alfresco-content-services" "repository" "environment" "SYNC_SERVICE_URI" | trimSuffix "/" | trimSuffix "/syncservice" }}/activiti-app
  API Gateway: {{ index .Values "alfresco-content-services" "repository" "environment" "SYNC_SERVICE_URI" | trimSuffix "/" | trimSuffix "/syncservice" }}/
  Keycloak: {{ index .Values "alfresco-content-services" "repository" "environment" "SYNC_SERVICE_URI" | trimSuffix "/" | trimSuffix "/syncservice" }}/auth/

{{ end }}